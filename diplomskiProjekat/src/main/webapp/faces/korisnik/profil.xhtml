<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Baza recenzenata</title>
    </h:head>
    <h:body>
        <h:outputStylesheet library="css" name="dizajn.css"/>
        <div class="sadrzaj"> 
            <h2>Vaš profil</h2>
            <br></br>
            <h:form id="forma" enctype="multipart/form-data" rendered="#{profilKontroler.inicijalizacija()}">
                <p:outputLabel value="#{profilKontroler.poruka}" styleClass="poruka"/>
                <br/><br/>
                <h:panelGrid columns="3">
                    <p:outputLabel value="Ime:"/>
                    <p:inputText id="ime" value="#{profilKontroler.korisnik.ime}" required="false" requiredMessage="Morate uneti ime!"/>
                    <p:message for="ime"/>
                    <p:outputLabel value="Prezime:"/>
                    <p:inputText id="prezime" value="#{profilKontroler.korisnik.prezime}" required="false" requiredMessage="Morate uneti prezime!"/>
                    <p:message for="prezime"/>
                    <p:outputLabel value="Korisničko ime:"/>
                    <p:inputText id="korime" value="#{profilKontroler.korisnik.korisnickoIme}" required="false" requiredMessage="Morate uneti korisničko ime!"/>
                    <p:message for="korime"/>
                    <p:outputLabel value="Nacionalnost:"/>
                    <p:inputText id="nacionalnost" value="#{profilKontroler.korisnik.nacionalnost}" required="false" requiredMessage="Morate uneti nacionalnost!"/>
                    <p:message for="nacionalnost"/>
                    <p:outputLabel value="Zemlja zaposlenja:"/>
                    <p:inputText id="zemlja" value="#{profilKontroler.korisnik.zemljaZaposlenja}" required="false" requiredMessage="Morate uneti zemlju zaposlenja!"/>
                    <p:message for="zemlja"/>
                    <p:outputLabel value="NIO zaposlenja:"/>
                    <p:inputText id="nio" value="#{profilKontroler.korisnik.nioZaposlenja}" required="false" requiredMessage="Morate uneti NIO zaposlenja!"/>
                    <p:message for="nio"/>
                    <p:outputLabel value="Naučno zvanje:"/>
                    <p:inputText id="zvanje" value="#{profilKontroler.korisnik.naucnoZvanje}" required="false" requiredMessage="Morate uneti zvanje!"/>
                    <p:message for="zvanje"/>
                    <p:outputLabel value="Angažovanje:"/>
                    <p:inputText id="angazovanje" value="#{profilKontroler.korisnik.angazovanje}" required="false" requiredMessage="Morate uneti angažovanje!"/>
                    <p:message for="angazovanje"/>
                    <p:outputLabel value="Stručne oblasti: (razdvajati zarezom)"/>
                    <p:inputText id="oblasti" value="#{profilKontroler.korisnik.strucneOblasti}" required="false" requiredMessage="Morate uneti strucne oblasti!"/>
                    <p:message for="oblasti"/>
                    <p:outputLabel value="Mobilni telefon"/>
                    <p:inputText id="telefon" value="#{profilKontroler.korisnik.mobilni}" required="false" requiredMessage="Morate uneti telefon!" validatorMessage="Telefon nije u dobrom formatu!">
                        <!--<f:validateRegex pattern="^0[1-9]\d{8,9}$"/>-->
                    </p:inputText>
                    <p:message for="telefon"/>
                    <p:outputLabel value="E-mail:"/>
                    <p:inputText id="email" value="#{profilKontroler.korisnik.email}" required="false" requiredMessage="Morate uneti e-mail!" validatorMessage="E-mail nije u dobrom formatu!">
                        <f:validateRegex pattern="^[^@]+@[^@]+\.[a-zA-Z]{2,6}$"/>
                    </p:inputText>
                    <p:message for="email"/>
                    <p:outputLabel value="Adresa"/>
                    <p:inputText id="adresa" value="#{profilKontroler.korisnik.adresa}" required="false" requiredMessage="Morate uneti adresu!"/>
                    <p:message for="adresa"/>
                    <p:outputLabel value="Lična veb stranica:"/>
                    <p:inputText id="stranica" value="#{profilKontroler.korisnik.vebStranica}" required="false" requiredMessage="Morate uneti veb stranicu!"/>
                    <p:message for="stranica"/>
                    <p:outputLabel value="Biografija:"/>
                    <p:link value="Biografija" href="#{profilKontroler.biografijaLink()}" target="_blank"/>
                    <p:fileUpload id="biografija" value="#{profilKontroler.novaBiografija}" multiple="false" label="Izaberi fajl" mode="simple" skinSimple="true" required="false"/>
                </h:panelGrid>
                <br/>
                <p:commandButton value="Izmeni profil" action="#{profilKontroler.izmeniProfil()}" update="forma" ajax="false"></p:commandButton>
                <br/><br/>
                <p:commandLink value="Promeni lozinku" action="/faces/javno/promenaLozinke?faces-redirect=true"/>
            </h:form>
            <br/><br/>
            <h:form>
                <p:commandLink value="Nazad" action="pocetna?faces-redirect=true"/>
                <br/>
            </h:form>
        </div> 
    </h:body>
</html>

